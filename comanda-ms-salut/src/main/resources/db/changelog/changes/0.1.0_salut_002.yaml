databaseChangeLog:
- changeSet:
    id: salut-change-54-1
    author: Limit
    changes:
    - addColumn:
        tableName: ${db_prefix}salut_subsistema
        columns:
        - column:
            name: total_tempsmig
            type: INTEGER
            constraints:
              nullable: true
        - column:
            name: pet_ok_ultperiode
            type: INTEGER
            constraints:
              nullable: true
        - column:
            name: pet_error_ultperiode
            type: INTEGER
            constraints:
              nullable: true
        - column:
            name: temps_mig_ultperiode
            type: INTEGER
            constraints:
              nullable: true
    - update:
        tableName: ${db_prefix}salut_subsistema
        columns:
          - column:
              name: total_tempsmig
              valueNumeric: 0
          - column:
              name: pet_ok_ultperiode
              valueNumeric: 0
          - column:
              name: pet_error_ultperiode
              valueNumeric: 0
          - column:
              name: temps_mig_ultperiode
              valueNumeric: 0
    - addNotNullConstraint:
        tableName: ${db_prefix}salut_subsistema
        columnName: total_tempsmig
        columnDataType: INTEGER
    - addNotNullConstraint:
        tableName: ${db_prefix}salut_subsistema
        columnName: pet_ok_ultperiode
        columnDataType: INTEGER
    - addNotNullConstraint:
        tableName: ${db_prefix}salut_subsistema
        columnName: pet_error_ultperiode
        columnDataType: INTEGER
    - addNotNullConstraint:
        tableName: ${db_prefix}salut_subsistema
        columnName: temps_mig_ultperiode
        columnDataType: INTEGER
- changeSet:
    id: salut-change-54-2
    author: Limit
    changes:
      - addColumn:
          tableName: ${db_prefix}salut_integracio
          columns:
            - column:
                name: total_tempsmig
                type: INTEGER
                constraints:
                  nullable: true
            - column:
                name: pet_ok_ultperiode
                type: INTEGER
                constraints:
                  nullable: true
            - column:
                name: pet_error_ultperiode
                type: INTEGER
                constraints:
                  nullable: true
            - column:
                name: temps_mig_ultperiode
                type: INTEGER
                constraints:
                  nullable: true
            - column:
                name: endpoint
                type: VARCHAR(255 ${varcharUnit})
      - update:
          tableName: ${db_prefix}salut_integracio
          columns:
            - column:
                name: total_tempsmig
                valueNumeric: 0
            - column:
                name: pet_ok_ultperiode
                valueNumeric: 0
            - column:
                name: pet_error_ultperiode
                valueNumeric: 0
            - column:
                name: temps_mig_ultperiode
                valueNumeric: 0
      - addNotNullConstraint:
          tableName: ${db_prefix}salut_integracio
          columnName: total_tempsmig
          columnDataType: INTEGER
      - addNotNullConstraint:
          tableName: ${db_prefix}salut_integracio
          columnName: pet_ok_ultperiode
          columnDataType: INTEGER
      - addNotNullConstraint:
          tableName: ${db_prefix}salut_integracio
          columnName: pet_error_ultperiode
          columnDataType: INTEGER
      - addNotNullConstraint:
          tableName: ${db_prefix}salut_integracio
          columnName: temps_mig_ultperiode
          columnDataType: INTEGER
- changeSet:
    id: salut-change-54-3
    author: Limit
    changes:
      - addColumn:
          tableName: ${db_prefix}salut_integracio
          columns:
            - column:
                name: pare_id
                type: BIGINT
      - addForeignKeyConstraint:
          baseTableName: ${db_prefix}salut_integracio
          baseColumnNames: pare_id
          referencedTableName: ${db_prefix}salut_integracio
          referencedColumnNames: id
          constraintName: ${db_prefix}salutint_pare_fk
- changeSet:
    id: salut-change-54-4
    author: Limit
    changes:
      - addColumn:
          tableName: ${db_prefix}salut
          columns:
            - column:
                constraints:
                  nullable: true
                name: peticio_error
                type: BOOLEAN
      - update:
          tableName: ${db_prefix}salut
          columns:
            - column:
                name: peticio_error
                valueBoolean: false
      - addNotNullConstraint:
          tableName: ${db_prefix}salut
          columnName: peticio_error
          columnDataType: BOOLEAN