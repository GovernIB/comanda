databaseChangeLog:
- changeSet:
    id: salut-change-30-1
    author: Limit
    changes:
    - addColumn:
        tableName: ${db_prefix}salut
        columns:
        - column:
            name: tipus_registre
            type: VARCHAR(10 ${varcharUnit})
            defaultValue: MINUT
            constraints:
              nullable: false
    - createIndex:
        tableName: ${db_prefix}salut
        indexName: ${db_prefix}salut_tipus_registre_id
        columns:
        - column:
            name: tipus_registre
    - createIndex:
        tableName: ${db_prefix}salut
        indexName: ${db_prefix}salut_entorn_data_id
        columns:
        - column:
            name: entorn_app_id
        - column:
            name: data
- changeSet:
    id: salut-change-30-2
    author: Limit
    changes:
    - addColumn:
        tableName: ${db_prefix}salut
        columns:
        - column:
            name: app_pct_up
            type: DECIMAL(5,2)
        - column:
            name: app_pct_warn
            type: DECIMAL(5,2)
        - column:
            name: app_pct_degraded
            type: DECIMAL(5,2)
        - column:
            name: app_pct_down
            type: DECIMAL(5,2)
        - column:
            name: app_pct_maintenance
            type: DECIMAL(5,2)
        - column:
            name: app_pct_unknown
            type: DECIMAL(5,2)
        - column:
            name: bd_pct_up
            type: DECIMAL(5,2)
        - column:
            name: bd_pct_warn
            type: DECIMAL(5,2)
        - column:
            name: bd_pct_degraded
            type: DECIMAL(5,2)
        - column:
            name: bd_pct_down
            type: DECIMAL(5,2)
        - column:
            name: bd_pct_maintenance
            type: DECIMAL(5,2)
        - column:
            name: bd_pct_unknown
            type: DECIMAL(5,2)
        - column:
            name: app_latencia_mitjana
            type: INTEGER
        - column:
            name: app_latencia_num_elements
            type: INTEGER
        - column:
            name: bd_latencia_mitjana
            type: INTEGER
        - column:
            name: bd_latencia_num_elements
            type: INTEGER
        - column:
            name: data_app
            type: TIMESTAMP
        - column:
            name: num_elements
            type: INTEGER

- changeSet:
    id: salut-change-30-3
    author: Limit
    changes:
    - addColumn:
        tableName: ${db_prefix}salut_integracio
        columns:
        - column:
            name: pct_up
            type: DECIMAL(5,2)
        - column:
            name: pct_warn
            type: DECIMAL(5,2)
        - column:
            name: pct_degraded
            type: DECIMAL(5,2)
        - column:
            name: pct_down
            type: DECIMAL(5,2)
        - column:
            name: pct_maintenance
            type: DECIMAL(5,2)
        - column:
            name: pct_unknown
            type: DECIMAL(5,2)
        - column:
            name: estat_num_elements
            type: INTEGER
        - column:
            name: latencia_mitjana
            type: INTEGER
        - column:
            name: latencia_num_elements
            type: INTEGER
- changeSet:
    id: salut-change-30-4
    author: junie
    changes:
    - addColumn:
        tableName: ${db_prefix}salut_subsistema
        columns:
        - column:
            name: pct_up
            type: DECIMAL(5,2)
        - column:
            name: pct_warn
            type: DECIMAL(5,2)
        - column:
            name: pct_degraded
            type: DECIMAL(5,2)
        - column:
            name: pct_down
            type: DECIMAL(5,2)
        - column:
            name: pct_maintenance
            type: DECIMAL(5,2)
        - column:
            name: pct_unknown
            type: DECIMAL(5,2)
        - column:
            name: estat_num_elements
            type: INTEGER
        - column:
            name: latencia_mitjana
            type: INTEGER
        - column:
            name: latencia_num_elements
            type: INTEGER
