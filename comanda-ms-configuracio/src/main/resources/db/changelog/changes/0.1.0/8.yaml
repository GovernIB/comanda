databaseChangeLog:
  - changeSet:
      id: con-change-08-01
      author: limit
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: com_app_context_pk
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: created_by
                  type: VARCHAR(64)
              - column:
                  constraints:
                    nullable: false
                  name: created_date
                  type: DATETIME
              - column:
                  name: lastmod_by
                  type: VARCHAR(64)
              - column:
                  name: lastmod_date
                  type: DATETIME
              - column:
                  name: v
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: codi
                  type: VARCHAR(64)
              - column:
                  constraints:
                    nullable: false
                  name: nom
                  type: VARCHAR(100)
              - column:
                  constraints:
                    nullable: false
                  name: path
                  type: VARCHAR(255)
              - column:
                  name: api
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  name: actiu
                  type: BOOLEAN
              - column:
                  name: entorn_app_id
                  type: BIGINT
            tableName: com_app_context
  - changeSet:
      id: con-change-08-02
      author: limit
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: com_app_ctx_manual_pk
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: nom
                  type: VARCHAR(128)
              - column:
                  constraints:
                    nullable: false
                  name: path
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  name: app_ctx_id
                  type: BIGINT
            tableName: com_app_ctx_manual
  - changeSet:
      id: con-change-08-03
      author: limit
      changes:
        - addUniqueConstraint:
            columnNames: entorn_app_id, codi
            constraintName: com_app_ctx_appcodi_uk
            tableName: com_app_context
  - changeSet:
      id: con-change-08-04
      author: limit
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: entorn_app_id
            baseTableName: com_app_context
            constraintName: COM_APP_CTX_ENTORN_APP_FK
            referencedColumnNames: id
            referencedTableName: com_entorn_app
  - changeSet:
      id: con-change-08-05
      author: limit
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: app_ctx_id
            baseTableName: com_app_ctx_manual
            constraintName: com_manual_app_ctx_fk
            referencedColumnNames: id
            referencedTableName: com_app_context
  - changeSet:
      id: ccon-change-08-06
      author: limit
      changes:
        - addUniqueConstraint:
            columnNames: app_ctx_id, nom
            constraintName: app_manual_appnom_uk
            tableName: com_app_ctx_manual
